(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{30:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/logo.111b2e51.png"},38:function(e,t,a){e.exports=a(50)},48:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),c=a.n(l),i=a(22),o=a(10),u=a(15),s=a(32),d=a(33),p=a(7),m=a(18),h=a.n(m),E=a(23),b="https://economia.awesomeapi.com.br/json/all";function v(){return(v=Object(E.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b);case 3:return t=e.sent,e.next=6,t.json();case 6:return delete(a=e.sent).USDT,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var O=function(){return v.apply(this,arguments)};function f(e){return{type:"ALLOW_EDIT_FORM_ACTION",trueOrFalse:e}}var y={email:"",password:""};var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ENTER_CLICK_ACTION":return Object(p.a)(Object(p.a)({},e),{},{email:t.payload});default:return e}},C=a(37),g={editForm:!1,currency:"BRL",currencies:[],error:"",expenses:[],editableObject:null};function T(e,t,a){return e.map((function(e,n){return n===t?a:e}))}var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENCY_WALLET_ACTION":return Object(p.a)(Object(p.a)({},e),{},{currencies:t.payload.map((function(e){return e.code}))});case"GET_CURRENCY_WALLET_ACTION_ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.payload});case"SEND_INFOS_TO_EXPENSES_ACTION":return Object(p.a)(Object(p.a)({},e),{},{expenses:[].concat(Object(C.a)(e.expenses),[t.payload])});case"ERASE_DISPENSE_ACTION":return Object(p.a)(Object(p.a)({},e),{},{expenses:e.expenses.filter((function(e,a){return a!==t.index}))});case"ALLOW_EDIT_FORM_ACTION":return Object(p.a)(Object(p.a)({},e),{},{editForm:t.trueOrFalse});case"EDIT_DISPENSE_ACTION":return Object(p.a)(Object(p.a)({},e),{},{editableObject:t.editableObject});case"SEND_EDITATED_OBJECT_ACTION":return Object(p.a)(Object(p.a)({},e),{},{expenses:T(e.expenses,t.index,t.payload)});default:return e}},N=Object(u.combineReducers)({user:j,wallet:k}),S=Object(u.createStore)(N,Object(d.composeWithDevTools)(Object(u.applyMiddleware)(s.a))),x=(a(48),a(3)),_=a(4),I=a(6),w=a(5),R=a(9),A=a(8),D=a(34),F=a.n(D),L=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props,t=e.func,a=e.func2;return r.a.createElement("div",{className:"password-input-container"},r.a.createElement("input",{id:"password",className:"password-input","data-testid":"password-input",type:"password",placeholder:"Digite sua senha",onBlur:a,onChange:t}))}}]),a}(n.Component),V=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={redirectToWallet:!1},e.validateEmail=e.validateEmail.bind(Object(A.a)(e)),e.validatePassword=e.validatePassword.bind(Object(A.a)(e)),e.handleOnChangeInputsValidation=e.handleOnChangeInputsValidation.bind(Object(A.a)(e)),e.onclickEnterHandle=e.onclickEnterHandle.bind(Object(A.a)(e)),e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){document.querySelector("#enter-btn").disabled=!0}},{key:"onclickEnterHandle",value:function(){var e=document.querySelector("#email");(0,this.props.email)(e.value),this.setState({redirectToWallet:!0})}},{key:"validateEmail",value:function(){var e=document.querySelector("#email"),t=document.querySelector("#error-email");e.checkValidity()?e.checkValidity()&&(t.style.color="green",t.innerHTML="Email Ok"):(t.style.color="red",t.innerHTML="Email inv\xe1lido")}},{key:"validatePassword",value:function(){var e=document.querySelector("#password"),t=document.querySelector("#error-password");e.value.length<6?t.innerHTML="Senha inv\xe1lida":e.value.length>=6&&(t.style.color="green",t.innerHTML="Senha Ok")}},{key:"handleOnChangeInputsValidation",value:function(){var e=document.querySelector("#email"),t=document.querySelector("#password"),a=document.querySelector("#enter-btn");e.checkValidity()&&t.value.length>=6?a.disabled=!1:(!e.checkValidity()||t.value.length<6)&&(a.disabled=!0)}},{key:"render",value:function(){return this.state.redirectToWallet?r.a.createElement(R.a,{to:"/carteira"}):r.a.createElement("div",{className:"login-container"},r.a.createElement("img",{alt:"logo",src:F.a,width:"150px",height:"50px"}),r.a.createElement("h2",null,"Login:"),r.a.createElement("form",{name:"login"},r.a.createElement("div",{className:"email-input-container"},r.a.createElement("input",{id:"email",className:"email-input","data-testid":"email-input",type:"email",placeholder:"Digite seu Email",onBlur:this.validateEmail,onChange:this.handleOnChangeInputsValidation})),r.a.createElement("span",{id:"error-email"}),r.a.createElement(L,{func:this.handleOnChangeInputsValidation,func2:this.validatePassword}),r.a.createElement("span",{id:"error-password"})),r.a.createElement("button",{id:"enter-btn",type:"button",onClick:this.onclickEnterHandle},"Entrar"))}}]),a}(r.a.Component),M=Object(o.b)(null,(function(e){return{email:function(t){return e({type:"LOGIN_ENTER_CLICK_ACTION",payload:t})}}}))(V),P=(a(30),function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleTotalValue=n.handleTotalValue.bind(Object(A.a)(n)),n}return Object(_.a)(a,[{key:"handleTotalValue",value:function(){return this.props.getTotalValue.reduce((function(e,t){var a=t.currency,n=t.exchangeRates;return e+t.value*n[a].ask}),0)}},{key:"render",value:function(){var e=this.props,t=e.getEmail,a=e.getCurrency;return r.a.createElement("div",{className:"header-container"},r.a.createElement("h4",null,"Logado Como:",r.a.createElement("span",{style:{color:"green"}},r.a.createElement("span",{className:"email",id:"email","data-testid":"email-field"},t))),r.a.createElement("h5",null,"Despesas Totais: R$",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("span",{className:"total-field",id:"total-field","data-testid":"total-field"},this.handleTotalValue().toFixed(2)))),r.a.createElement("h5",null,r.a.createElement("span",{style:{color:"black"}},"Moeda:",r.a.createElement("span",{className:"currency","data-testid":"header-currency-field"},a))))}}]),a}(n.Component)),q=Object(o.b)((function(e){return{getEmail:e.user.email,getCurrency:e.wallet.currency,getTotalValue:e.wallet.expenses}}))(P),W=a(17),H=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).state={},n.getApiResponse=n.getApiResponse.bind(Object(A.a)(n)),n}return Object(_.a)(a,[{key:"getApiResponse",value:function(){var e=Object(E.a)(h.a.mark((function e(){var t,a,n,r,l,c,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.toma,n=t.sendInfos,r=t.getExpenses,l=t.initialState,c=document.querySelector("#value"),i=document.querySelector("#forms"),e.next=5,O();case 5:if(o=e.sent,""!==c.value){e.next=8;break}return e.abrupt("return",window.alert("voc\xea precisa adicionar um valor"));case 8:n(Object(p.a)(Object(p.a)({tag:"Alimenta\xe7\xe3o",method:"Dinheiro",currency:"USD"},a),{},{id:r.length,exchangeRates:o})),i.reset(),l();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.editForm,a=e.concludeClick,n=void 0===a?{}:a;return!0===t?r.a.createElement("button",{className:"send-btn",type:"button",onClick:n},"Editar despesa"):r.a.createElement("button",{className:"send-btn",type:"button",onClick:this.getApiResponse},"Adicionar despesa")}}]),a}(n.Component),B=Object(o.b)((function(e){return{getExpenses:e.wallet.expenses,editForm:e.wallet.editForm}}),(function(e){return{sendInfos:function(t){return e({type:"SEND_INFOS_TO_EXPENSES_ACTION",payload:t})}}}))(H);H.defaultProps={toma:{},getExpenses:{}};var z=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props,t=e.up,a=e.value;return r.a.createElement("label",{htmlFor:"method"},"M\xe9todo de pagamento:",r.a.createElement("select",{"data-testid":"method-input",onChange:t,id:"method",value:a},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito")))}}]),a}(n.Component),U=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(e){var n;Object(x.a)(this,a);var r=(n=t.call(this,e)).props.objectToEdit;return n.up=n.up.bind(Object(A.a)(n)),n.state={value:r.value,tag:r.tag,method:r.method,currency:r.currency,description:r.description},n.concludeClick=n.concludeClick.bind(Object(A.a)(n)),n.up=n.up.bind(Object(A.a)(n)),n.descInput=n.descInput.bind(Object(A.a)(n)),n}return Object(_.a)(a,[{key:"up",value:function(e){this.setState(Object(W.a)({},e.target.id,e.target.value))}},{key:"concludeClick",value:function(){var e=this.props,t=e.editFormsfalse,a=e.SendEditatedObj,n=e.objectToEdit,r=Object(p.a)(Object(p.a)({},this.state),{},{id:n.id,exchangeRates:n.exchangeRates});a(n.id,r),t(!1)}},{key:"descInput",value:function(){var e=this.state.description;return r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o:",r.a.createElement("textarea",{"data-testid":"description-input",onChange:this.up,id:"description",type:"text",value:e}))}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.tag,n=e.method,l=e.currency,c=this.props.currency;return r.a.createElement("form",{className:"forms-edit"},r.a.createElement("label",{htmlFor:"value"},"Valor:",r.a.createElement("input",{"data-testid":"value-input",value:t,onChange:this.up,id:"value",className:"Valor",type:"text"})),this.descInput(),r.a.createElement("label",{htmlFor:"currency"},"Moeda:",r.a.createElement("select",{"data-testid":"currency-input",onChange:this.up,id:"currency",value:l},c.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement(z,{up:this.up,value:n}),r.a.createElement("label",{htmlFor:"tag"},"Tag:",r.a.createElement("select",{"data-testid":"tag-input",onChange:this.up,id:"tag",value:a},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement(B,{concludeClick:this.concludeClick}))}}]),a}(n.Component),G=Object(o.b)((function(e){return{currency:e.wallet.currencies,objectToEdit:e.wallet.editableObject}}),(function(e){return{editFormsfalse:function(t){return e(f(t))},resetEditableObject:function(){return e({type:"RESET_EDITABLE_OBJ_ACTION"})},SendEditatedObj:function(t,a){return e(function(e,t){return{type:"SEND_EDITATED_OBJECT_ACTION",index:e,payload:t}}(t,a))}}}))(U);U.defaultProps={objectToEdit:{}};var J=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props.up;return r.a.createElement("label",{htmlFor:"tag"},"Tag:",r.a.createElement("select",{"data-testid":"tag-input",onChange:e,id:"tag",name:"tag"},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade")))}}]),a}(n.Component),Y=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).up=n.up.bind(Object(A.a)(n)),n.initialState=n.initialState.bind(Object(A.a)(n)),n}return Object(_.a)(a,[{key:"initialState",value:function(){return this.setState({currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"})}},{key:"up",value:function(e){this.setState(Object(W.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){if(!0===this.props.editForm)return r.a.createElement(G,null);var e=this.props.currency,t=void 0===e?[]:e;return r.a.createElement("form",{className:"forms",id:"forms"},r.a.createElement("label",{htmlFor:"value"},"Valor:",r.a.createElement("input",{onChange:this.up,id:"value",className:"Valor",type:"text"})),r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o:",r.a.createElement("textarea",{onChange:this.up,id:"description",type:"text"})),r.a.createElement("label",{htmlFor:"currency"},"Moeda:",r.a.createElement("select",{onChange:this.up,id:"currency"},t.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement("label",{htmlFor:"method"},"M\xe9todo de pagamento:",r.a.createElement("select",{onChange:this.up,id:"method"},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement(J,{up:this.up}),r.a.createElement(B,{toma:this.state,initialState:this.initialState}))}}]),a}(n.Component),K=Object(o.b)((function(e){return{currency:e.wallet.currencies,editForm:e.wallet.editForm}}))(Y),X=a(36),$=a(35),Q=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.item,n=e.handleClickRemove,l=e.handleClickEdit;return r.a.createElement("tr",null,r.a.createElement("td",null,a.description),r.a.createElement("td",null,a.tag),r.a.createElement("td",null,a.method),r.a.createElement("td",null,a.value),r.a.createElement("td",null,a.exchangeRates[a.currency].name.split("/")[0]),r.a.createElement("td",null,Number(a.exchangeRates[a.currency].ask).toFixed(2)),r.a.createElement("td",null,(a.value*a.exchangeRates[a.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{"data-testid":"edit-btn",onClick:function(){return l(t)},type:"button"},r.a.createElement($.a,{size:"25px"}))),r.a.createElement("td",null,r.a.createElement("button",{"data-testid":"delete-btn",onClick:function(){return n(t)},type:"button"},r.a.createElement(X.a,{size:"25px"}))))}}]),a}(n.Component),Z=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleClickRemove=n.handleClickRemove.bind(Object(A.a)(n)),n.handleClickEdit=n.handleClickEdit.bind(Object(A.a)(n)),n}return Object(_.a)(a,[{key:"handleClickRemove",value:function(e){(0,this.props.deletDispense)(e)}},{key:"handleClickEdit",value:function(e){var t=this.props,a=t.editFormsTrue,n=t.infos;(0,t.objectToEdit)(n[e]),a(!0)}},{key:"render",value:function(){var e=this,t=this.props.infos,a=void 0===t?[]:t;return r.a.createElement("table",{id:"table"},r.a.createElement("thead",{className:"thead"},r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",{colSpan:"2"},"Editar/Excluir"))),r.a.createElement("tbody",null,a.map((function(t,a){return r.a.createElement(Q,{key:a,index:a,item:t,handleClickRemove:e.handleClickRemove,handleClickEdit:function(){return e.handleClickEdit(a)}})}))))}}]),a}(n.Component),ee=Object(o.b)((function(e){return{infos:e.wallet.expenses,editableObject:e.wallet.editableObject}}),(function(e){return{deletDispense:function(t){return e(function(e){return{type:"ERASE_DISPENSE_ACTION",index:e}}(t))},editFormsTrue:function(t){return e(f(t))},objectToEdit:function(t){return e({type:"EDIT_DISPENSE_ACTION",editableObject:t})}}}))(Z),te=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.activeApi)()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null),r.a.createElement("div",{className:"wallet-container"},r.a.createElement("h1",null,"Trybe-Wallet"),r.a.createElement("div",{className:"forms-container"},r.a.createElement(K,null),r.a.createElement(ee,null))))}}]),a}(r.a.Component),ae=Object(o.b)((function(e){return{infos:e.wallet.expenses}}),(function(e){return{activeApi:function(){return e((function(e){return O().then((function(t){return e({type:"GET_CURRENCY_WALLET_ACTION",payload:Object.values(t)})})).catch((function(t){return e({type:"GET_CURRENCY_WALLET_ACTION_ERROR",payload:t.message})}))}))}}}))(te),ne=function(e){Object(I.a)(a,e);var t=Object(w.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(R.d,null,r.a.createElement(R.b,{exact:!0,path:"/Home",render:function(){return r.a.createElement(M,null)}}),r.a.createElement(R.b,{exact:!0,path:"/carteira",render:function(){return r.a.createElement(ae,null)}})))}}]),a}(r.a.Component);c.a.render(r.a.createElement(o.a,{store:S},r.a.createElement(i.a,null,r.a.createElement(ne,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.51359164.chunk.js.map